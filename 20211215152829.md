# AWS ECS: Dynamic Port Mapping

AWS ECS のコンテナのネットワークモードが host, bridge のときに使える
containerPort にマッピングする hostPort の値を 0 にすると、エフェメラルポート (必須じゃない適当なポート、6万個ぐらい)に自動割当する

ECSを構成するノードに Public IP を振っておけば、コンテナに動的にエンドポイント(Public IP + port)を与えることができる

ただし、Fargate を使う場合はネットワークモードが `awsvpc` しか選べないので、これは使えないっぽい


https://docs.aws.amazon.com/ja_jp/AmazonECS/latest/bestpracticesguide/networking-networkmode.html#networking-networkmode-awsvpc
